import{m as e,g as t,i as n,T as r,a as i,B as s,V as a,C as o,b as l,c as u,d as c,e as d,f as p,h as f,j as h,p as v,k as g,u as m,l as b,n as w,r as E,s as R,o as S,q as T,t as D,v as O,w as C,D as y,x as I,y as P,z as x,A as V,E as H,F as k,G as A,H as j,I as N,J as M,K as L,L as _,M as U,N as B,O as F,P as G,Q as z,R as W,S as Z,U as q,W as $,X as Y,Y as X,Z as J,_ as K,$ as Q,a0 as ee,a1 as te,a2 as ne,a3 as re,a4 as ie,a5 as se,a6 as ae,a7 as oe,a8 as le,a9 as ue,aa as ce,ab as de,ac as pe,ad as fe,ae as he,af as ve}from"./_/DoRqU6gh.js";export{ag as JsonRequestError}from"./_/DoRqU6gh.js";import{createElement as ge,createRef as me,Fragment as be,render as we}from"preact";import"preact/compat";const Ee=[];const Re={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"};const Se=Object.assign(Object.assign({},Re),{buttonHints:{prev:"Previous $0",next:"Next $0",today(e,t){return t==="day"?"Today":`This ${e}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}});function organizeRawLocales(e){let t=e.length>0?e[0].code:"en";let n=Ee.concat(e);let r={en:Se};for(let e of n)r[e.code]=e;return{map:r,defaultCode:t}}function buildLocale(e,t){return typeof e!=="object"||Array.isArray(e)?queryLocale(e,t):parseLocale(e.code,[e.code],e)}function queryLocale(e,t){let n=[].concat(e||[]);let r=queryRawLocale(n,t)||Se;return parseLocale(e,n,r)}function queryRawLocale(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let e=r.length;e>0;e-=1){let n=r.slice(0,e).join("-");if(t[n])return t[n]}}return null}function parseLocale(t,n,r){let i=e([Re,r],["buttonText"]);delete i.code;let{week:s}=i;delete i.week;return{codeArg:t,codes:n,week:s,simpleNumberFormat:new Intl.NumberFormat(t),options:i}}function createPlugin(e){return{id:t(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function buildPluginHooks(e,t){let n={};let r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function addDefs(e){for(let t of e){const e=t.name;const i=n[e];if(i===void 0){n[e]=t.id;addDefs(t.deps);r=combineHooks(r,t)}else i!==t.id&&console.warn(`Duplicate plugin '${e}'`)}}e&&addDefs(e);addDefs(t);return r}function buildBuildPluginHooks(){let e=[];let t=[];let r;return(i,s)=>{r&&n(i,e)&&n(s,t)||(r=buildPluginHooks(i,s));e=i;t=s;return r}}function combineHooks(e,t){return{premiumReleaseDate:compareOptionalDates(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function compareOptionalDates(e,t){return e===void 0?t:t===void 0?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class StandardTheme extends r{}StandardTheme.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};StandardTheme.prototype.baseIconClass="fc-icon";StandardTheme.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};StandardTheme.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};StandardTheme.prototype.iconOverrideOption="buttonIcons";StandardTheme.prototype.iconOverrideCustomButtonOption="icon";StandardTheme.prototype.iconOverridePrefix="fc-icon-";function compileViewDefs(e,t){let n={};let r;for(r in e)ensureViewDef(r,n,e,t);for(r in t)ensureViewDef(r,n,e,t);return n}function ensureViewDef(e,t,n,r){if(t[e])return t[e];let i=buildViewDef(e,t,n,r);i&&(t[e]=i);return i}function buildViewDef(e,t,n,r){let i=n[e];let s=r[e];let queryProp=e=>i&&i[e]!==null?i[e]:s&&s[e]!==null?s[e]:null;let a=queryProp("component");let o=queryProp("superType");let l=null;if(o){if(o===e)throw new Error("Can't have a custom view type that references itself");l=ensureViewDef(o,t,n,r)}!a&&l&&(a=l.component);return a?{type:e,component:a,defaults:Object.assign(Object.assign({},l?l.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},l?l.overrides:{}),s?s.rawOptions:{})}:null}function parseViewConfigs(e){return i(e,parseViewConfig)}function parseViewConfig(e){let t=typeof e==="function"?{component:e}:e;let{component:n}=t;t.content?n=createViewHookComponent(t):!n||n.prototype instanceof s||(n=createViewHookComponent(Object.assign(Object.assign({},t),{content:n})));return{superType:t.type,component:n,rawOptions:t}}function createViewHookComponent(e){return t=>ge(a.Consumer,null,(n=>ge(o,{elTag:"div",elClasses:l(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount})))}function buildViewSpecs(e,t,n,r){let s=parseViewConfigs(e);let a=parseViewConfigs(t.views);let o=compileViewDefs(s,a);return i(o,(e=>buildViewSpec(e,a,t,n,r)))}function buildViewSpec(e,t,n,r,i){let s=e.overrides.duration||e.defaults.duration||r.duration||n.duration;let a=null;let o="";let l="";let d={};if(s){a=createDurationCached(s);if(a){let e=u(a);o=e.unit;if(e.value===1){l=o;d=t[o]?t[o].rawOptions:{}}}}let queryButtonText=t=>{let n=t.buttonText||{};let r=e.defaults.buttonTextKey;return r!=null&&n[r]!=null?n[r]:n[e.type]!=null?n[e.type]:n[l]!=null?n[l]:null};let queryButtonTitle=t=>{let n=t.buttonHints||{};let r=e.defaults.buttonTextKey;return r!=null&&n[r]!=null?n[r]:n[e.type]!=null?n[e.type]:n[l]!=null?n[l]:null};return{type:e.type,component:e.component,duration:a,durationUnit:o,singleUnit:l,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},d),e.overrides),buttonTextOverride:queryButtonText(r)||queryButtonText(n)||e.overrides.buttonText,buttonTextDefault:queryButtonText(i)||e.defaults.buttonText||queryButtonText(c)||e.type,buttonTitleOverride:queryButtonTitle(r)||queryButtonTitle(n)||e.overrides.buttonHint,buttonTitleDefault:queryButtonTitle(i)||e.defaults.buttonHint||queryButtonTitle(c)}}let Te={};function createDurationCached(e){let t=JSON.stringify(e);let n=Te[t];if(n===void 0){n=d(e);Te[t]=n}return n}function reduceViewType(e,t){switch(t.type){case"CHANGE_VIEW_TYPE":e=t.viewType}return e}function reduceDynamicOptionOverrides(e,t){switch(t.type){case"SET_OPTION":return Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue});default:return e}}function reduceDateProfile(e,t,n,r){let i;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":i=r.buildPrev(e,n);if(i.isValid)return i;break;case"NEXT":i=r.buildNext(e,n);if(i.isValid)return i;break}return e}function initEventSources(e,t,n){let r=t?t.activeRange:null;return addSources({},parseInitialSources(e,n),r,n)}function reduceEventSources(e,t,n,r){let i=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return addSources(e,t.sources,i,r);case"REMOVE_EVENT_SOURCE":return removeSource(e,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?fetchDirtySources(e,i,r):e;case"FETCH_EVENT_SOURCES":return fetchSourcesByIds(e,t.sourceIds?p(t.sourceIds):excludeStaticSources(e,r),i,t.isRefetch||false,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return receiveResponse(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function reduceEventSourcesNewTimeZone(e,t,n){let r=t?t.activeRange:null;return fetchSourcesByIds(e,excludeStaticSources(e,n),r,true,n)}function computeEventSourcesLoading(e){for(let t in e)if(e[t].isFetching)return true;return false}function addSources(e,t,n,r){let i={};for(let e of t)i[e.sourceId]=e;n&&(i=fetchDirtySources(i,n,r));return Object.assign(Object.assign({},e),i)}function removeSource(e,t){return f(e,(e=>e.sourceId!==t))}function fetchDirtySources(e,t,n){return fetchSourcesByIds(e,f(e,(e=>isSourceDirty(e,t,n))),t,false,n)}function isSourceDirty(e,t,n){return doesSourceNeedRange(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function fetchSourcesByIds(e,t,n,r,i){let s={};for(let a in e){let o=e[a];t[a]?s[a]=fetchSource(o,n,r,i):s[a]=o}return s}function fetchSource(e,n,r,i){let{options:s,calendarApi:a}=i;let o=i.pluginHooks.eventSourceDefs[e.sourceDefId];let l=t();o.fetch({eventSource:e,range:n,isRefetch:r,context:i},(t=>{let{rawEvents:r}=t;s.eventSourceSuccess&&(r=s.eventSourceSuccess.call(a,r,t.response)||r);e.success&&(r=e.success.call(a,r,t.response)||r);i.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:n,rawEvents:r})}),(t=>{let r=false;if(s.eventSourceFailure){s.eventSourceFailure.call(a,t);r=true}if(e.failure){e.failure(t);r=true}r||console.warn(t.message,t);i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:n,error:t})}));return Object.assign(Object.assign({},e),{isFetching:true,latestFetchId:l})}function receiveResponse(e,t,n,r){let i=e[t];return i&&n===i.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{isFetching:false,fetchRange:r})}):e}function excludeStaticSources(e,t){return f(e,(e=>doesSourceNeedRange(e,t)))}function parseInitialSources(e,t){let n=h(t);let r=[].concat(e.eventSources||[]);let i=[];e.initialEvents&&r.unshift(e.initialEvents);e.events&&r.unshift(e.events);for(let e of r){let r=v(e,t,n);r&&i.push(r)}return i}function doesSourceNeedRange(e,t){let n=t.pluginHooks.eventSourceDefs;return!n[e.sourceDefId].ignoreRange}function reduceDateSelection(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function reduceSelectedEvent(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function reduceEventDrag(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":n=t.state;return{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function reduceEventResize(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":n=t.state;return{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function parseToolbars(e,t,n,r,i){let s=e.headerToolbar?parseToolbar(e.headerToolbar,e,t,n,r,i):null;let a=e.footerToolbar?parseToolbar(e.footerToolbar,e,t,n,r,i):null;return{header:s,footer:a}}function parseToolbar(e,t,n,r,i,s){let a={};let o=[];let l=false;for(let u in e){let c=e[u];let d=parseSection(c,t,n,r,i,s);a[u]=d.widgets;o.push(...d.viewsWithButtons);l=l||d.hasTitle}return{sectionWidgets:a,viewsWithButtons:o,hasTitle:l}}function parseSection(e,t,n,r,i,s){let a=t.direction==="rtl";let o=t.customButtons||{};let l=n.buttonText||{};let u=t.buttonText||{};let c=n.buttonHints||{};let d=t.buttonHints||{};let p=e?e.split(" "):[];let f=[];let h=false;let v=p.map((e=>e.split(",").map((e=>{if(e==="title"){h=true;return{buttonName:e}}let n;let p;let v;let m;let b;let w;if(n=o[e]){v=e=>{n.click&&n.click.call(e.target,e,e.target)};(m=r.getCustomButtonIconClass(n))||(m=r.getIconClass(e,a))||(b=n.text);w=n.hint||n.text}else if(p=i[e]){f.push(e);v=()=>{s.changeView(e)};(b=p.buttonTextOverride)||(m=r.getIconClass(e,a))||(b=p.buttonTextDefault);let n=p.buttonTextOverride||p.buttonTextDefault;w=g(p.buttonTitleOverride||p.buttonTitleDefault||t.viewHint,[n,e],n)}else if(s[e]){v=()=>{s[e]()};(b=l[e])||(m=r.getIconClass(e,a))||(b=u[e]);if(e==="prevYear"||e==="nextYear"){let t=e==="prevYear"?"prev":"next";w=g(c[t]||d[t],[u.year||"year","year"],u[e])}else w=t=>g(c[e]||d[e],[u[t]||t,t],u[e])}return{buttonName:e,buttonClick:v,buttonIcon:m,buttonText:b,buttonHint:w}}))));return{widgets:v,viewsWithButtons:f,hasTitle:h}}class ViewImpl{constructor(e,t,n){this.type=e;this.getCurrentData=t;this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let De={ignoreRange:true,parseMeta(e){return Array.isArray(e.events)?e.events:null},fetch(e,t){t({rawEvents:e.eventSource.meta})}};const Oe=createPlugin({name:"array-event-source",eventSourceDefs:[De]});let Ce={parseMeta(e){return typeof e.events==="function"?e.events:null},fetch(e,t,n){const{dateEnv:r}=e.context;const i=e.eventSource.meta;m(i.bind(null,b(e.range,r)),(e=>t({rawEvents:e})),n)}};const ye=createPlugin({name:"func-event-source",eventSourceDefs:[Ce]});const Ie={method:String,extraParams:w,startParam:String,endParam:String,timeZoneParam:String};let Pe={parseMeta(e){return!e.url||e.format!=="json"&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}},fetch(e,t,n){const{meta:r}=e.eventSource;const i=buildRequestParams(r,e.range,e.context);E(r.method,r.url,i).then((([e,n])=>{t({rawEvents:e,response:n})}),n)}};const xe=createPlugin({name:"json-event-source",eventSourceRefiners:Ie,eventSourceDefs:[Pe]});function buildRequestParams(e,t,n){let{dateEnv:r,options:i}=n;let s;let a;let o;let l;let u={};s=e.startParam;s==null&&(s=i.startParam);a=e.endParam;a==null&&(a=i.endParam);o=e.timeZoneParam;o==null&&(o=i.timeZoneParam);l=typeof e.extraParams==="function"?e.extraParams():e.extraParams||{};Object.assign(u,l);u[s]=r.formatIso(t.start);u[a]=r.formatIso(t.end);r.timeZone!=="local"&&(u[o]=r.timeZone);return u}const Ve={daysOfWeek:w,startTime:d,endTime:d,duration:d,startRecur:w,endRecur:w};let He={parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null};let r;e.duration&&(r=e.duration);!r&&e.startTime&&e.endTime&&(r=R(e.endTime,e.startTime));return{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:r,typeData:n}}return null},expand(e,t,n){let r=S(t,{start:e.startRecur,end:e.endRecur});return r?expandRanges(e.daysOfWeek,e.startTime,r,n):[]}};const ke=createPlugin({name:"simple-recurring-event",recurringTypes:[He],eventRefiners:Ve});function expandRanges(e,t,n,r){let i=e?p(e):null;let s=T(n.start);let a=n.end;let o=[];while(s<a){let e;if(!i||i[s.getUTCDay()]){e=t?r.add(s,t):s;o.push(e)}s=D(s,1)}return o}const Ae=createPlugin({name:"change-handler",optionChangeHandlers:{events(e,t){handleEventSources([e],t)},eventSources:handleEventSources}});function handleEventSources(e,t){let n=O(t.getCurrentData().eventSources);if(n.length===1&&e.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});return}let r=[];for(let t of e){let e=false;for(let r=0;r<n.length;r+=1)if(n[r]._raw===t){n.splice(r,1);e=true;break}e||r.push(t)}for(let e of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:e.sourceId});for(let e of r)t.calendarApi.addEventSource(e)}function handleDateProfile(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},b(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function handleEventStore(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",C(e,t))}const je=[Oe,ye,xe,ke,Ae,createPlugin({name:"misc",isLoadingFuncs:[e=>computeEventSourcesLoading(e.eventSources)],propSetHandlers:{dateProfile:handleDateProfile,eventStore:handleEventStore}})];class TaskRunner{constructor(e,t){this.runTaskOption=e;this.drainedOption=t;this.queue=[];this.delayedRunner=new y(this.drain.bind(this))}request(e,t){this.queue.push(e);this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;while(e.length){let t=[];let n;while(n=e.shift()){this.runTask(n);t.push(n)}this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function buildTitle(e,t,n){let r;r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange;return n.formatRange(r.start,r.end,I(t.titleFormat||buildTitleFormat(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function buildTitleFormat(e){let{currentRangeUnit:t}=e;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let n=P(e.currentRange.start,e.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class CalendarDataManager{constructor(e){this.computeCurrentViewData=x(this._computeCurrentViewData);this.organizeRawLocales=x(organizeRawLocales);this.buildLocale=x(buildLocale);this.buildPluginHooks=buildBuildPluginHooks();this.buildDateEnv=x(buildDateEnv$1);this.buildTheme=x(buildTheme);this.parseToolbars=x(parseToolbars);this.buildViewSpecs=x(buildViewSpecs);this.buildDateProfileGenerator=V(buildDateProfileGenerator);this.buildViewApi=x(buildViewApi);this.buildViewUiProps=V(buildViewUiProps);this.buildEventUiBySource=x(buildEventUiBySource,H);this.buildEventUiBases=x(buildEventUiBases);this.parseContextBusinessHours=V(parseContextBusinessHours);this.buildTitle=x(buildTitle);this.emitter=new k;this.actionRunner=new TaskRunner(this._handleAction.bind(this),this.updateData.bind(this));this.currentCalendarOptionsInput={};this.currentCalendarOptionsRefined={};this.currentViewOptionsInput={};this.currentViewOptionsRefined={};this.currentCalendarOptionsRefiners={};this.optionsForRefining=[];this.optionsForHandling=[];this.getCurrentData=()=>this.data;this.dispatch=e=>{this.actionRunner.request(e)};this.props=e;this.actionRunner.pause();let t={};let n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi);let r=n.calendarOptions.initialView||n.pluginHooks.initialView;let i=this.computeCurrentViewData(r,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this;this.emitter.setThisContext(e.calendarApi);this.emitter.setOptions(i.options);let s=A(n.calendarOptions,n.dateEnv);let a=i.dateProfileGenerator.build(s);j(a.activeRange,s)||(s=a.currentRange.start);let o={dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let e of n.pluginHooks.contextInit)e(o);let l=initEventSources(n.calendarOptions,a,o);let u={dynamicOptionOverrides:t,currentViewType:r,currentDate:s,dateProfile:a,businessHours:this.parseContextBusinessHours(o),eventSources:l,eventUiBases:{},eventStore:N(),renderableEventStore:N(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig};let c=Object.assign(Object.assign({},o),u);for(let e of n.pluginHooks.reducers)Object.assign(u,e(null,null,c));computeIsLoading(u,o)&&this.emitter.trigger("loading",true);this.state=u;this.updateData();this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;if(t===void 0)n.optionOverrides=e;else{n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e);this.optionsForRefining.push(...t)}(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:r}=this;let i=reduceDynamicOptionOverrides(n.dynamicOptionOverrides,e);let s=this.computeOptionsData(t.optionOverrides,i,t.calendarApi);let a=reduceViewType(n.currentViewType,e);let o=this.computeCurrentViewData(a,s,t.optionOverrides,i);t.calendarApi.currentDataManager=this;r.setThisContext(t.calendarApi);r.setOptions(o.options);let l={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData};let{currentDate:u,dateProfile:c}=n;this.data&&this.data.dateProfileGenerator!==o.dateProfileGenerator&&(c=o.dateProfileGenerator.build(u));u=M(u,e);c=reduceDateProfile(c,e,u,o.dateProfileGenerator);e.type!=="PREV"&&e.type!=="NEXT"&&j(c.currentRange,u)||(u=c.currentRange.start);let d=reduceEventSources(n.eventSources,e,c,l);let p=L(n.eventStore,e,d,c,l);let f=computeEventSourcesLoading(d);let h=f&&!o.options.progressiveEventRendering&&n.renderableEventStore||p;let{eventUiSingleBase:v,selectionConfig:g}=this.buildViewUiProps(l);let m=this.buildEventUiBySource(d);let b=this.buildEventUiBases(h.defs,v,m);let w={dynamicOptionOverrides:i,currentViewType:a,currentDate:u,dateProfile:c,eventSources:d,eventStore:p,renderableEventStore:h,selectionConfig:g,eventUiBases:b,businessHours:this.parseContextBusinessHours(l),dateSelection:reduceDateSelection(n.dateSelection,e),eventSelection:reduceSelectedEvent(n.eventSelection,e),eventDrag:reduceEventDrag(n.eventDrag,e),eventResize:reduceEventResize(n.eventResize,e)};let E=Object.assign(Object.assign({},l),w);for(let t of s.pluginHooks.reducers)Object.assign(w,t(n,e,E));let R=computeIsLoading(n,l);let S=computeIsLoading(w,l);!R&&S?r.trigger("loading",true):R&&!S&&r.trigger("loading",false);this.state=w;t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this;let n=this.data;let r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi);let i=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides);let s=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,i.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),i),t);let a=r.pluginHooks.optionChangeHandlers;let o=n&&n.calendarOptions;let l=r.calendarOptions;if(o&&o!==l){if(o.timeZone!==l.timeZone){t.eventSources=s.eventSources=reduceEventSourcesNewTimeZone(s.eventSources,t.dateProfile,s);t.eventStore=s.eventStore=_(s.eventStore,n.dateEnv,s.dateEnv);t.renderableEventStore=s.renderableEventStore=_(s.renderableEventStore,n.dateEnv,s.dateEnv)}for(let e in a)this.optionsForHandling.indexOf(e)===-1&&o[e]===l[e]||a[e](l[e],s)}this.optionsForHandling=[];e.onData&&e.onData(s)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:i,localeDefaults:s,availableLocaleData:a,extra:o}=this.processRawCalendarOptions(e,t);warnUnknownOptions(o);let l=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,i,a,r.defaultRangeSeparator);let u=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s);let c=this.buildTheme(r,i);let d=this.parseToolbars(r,this.stableOptionOverrides,c,u,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:i,dateEnv:l,viewSpecs:u,theme:c,toolbarConfig:d,localeDefaults:s,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=U([c,e,t]);let i=this.organizeRawLocales(n);let s=i.map;let a=this.buildLocale(r||i.defaultCode,s).options;let o=this.buildPluginHooks(e.plugins||[],je);let l=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B),F),G),o.listenerRefiners),o.optionRefiners);let u={};let d=U([c,a,e,t]);let p={};let f=this.currentCalendarOptionsInput;let h=this.currentCalendarOptionsRefined;let v=false;for(let e in d)if(this.optionsForRefining.indexOf(e)===-1&&(d[e]===f[e]||z[e]&&e in f&&z[e](f[e],d[e])))p[e]=h[e];else if(l[e]){p[e]=l[e](d[e]);v=true}else u[e]=f[e];if(v){this.currentCalendarOptionsInput=d;this.currentCalendarOptionsRefined=p;this.stableOptionOverrides=e;this.stableDynamicOptionOverrides=t}this.optionsForHandling.push(...this.optionsForRefining);this.optionsForRefining=[];return{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:o,availableLocaleData:i,localeDefaults:a,extra:u}}_computeCurrentViewData(e,t,n,r){let i=t.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:a}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,n,r);warnUnknownOptions(a);let o=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,nowInput:s.now,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount});let l=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:i,options:s,dateProfileGenerator:o,viewApi:l}}processRawViewOptions(e,t,n,r,i){let s=U([c,e.optionDefaults,n,r,e.optionOverrides,i]);let a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B),F),G),W),t.listenerRefiners),t.optionRefiners);let o={};let l=this.currentViewOptionsInput;let u=this.currentViewOptionsRefined;let d=false;let p={};for(let e in s)if(s[e]===l[e]||z[e]&&z[e](s[e],l[e]))o[e]=u[e];else{s[e]===this.currentCalendarOptionsInput[e]||z[e]&&z[e](s[e],this.currentCalendarOptionsInput[e])?e in this.currentCalendarOptionsRefined&&(o[e]=this.currentCalendarOptionsRefined[e]):a[e]?o[e]=a[e](s[e]):p[e]=s[e];d=true}if(d){this.currentViewOptionsInput=s;this.currentViewOptionsRefined=o}return{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}}}function buildDateEnv$1(e,t,n,r,i,s,a,o){let l=buildLocale(t||a.defaultCode,a.map);return new Z({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:o})}function buildTheme(e,t){let n=t.themeClasses[e.themeSystem]||StandardTheme;return new n(e)}function buildDateProfileGenerator(e){let t=e.dateProfileGeneratorClass||q;return new t(e)}function buildViewApi(e,t,n){return new ViewImpl(e,t,n)}function buildEventUiBySource(e){return i(e,(e=>e.ui))}function buildEventUiBases(e,t,n){let r={"":t};for(let t in e){let i=e[t];i.sourceId&&n[i.sourceId]&&(r[t]=n[i.sourceId])}return r}function buildViewUiProps(e){let{options:t}=e;return{eventUiSingleBase:$({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap==="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:$({constraint:t.selectConstraint,overlap:typeof t.selectOverlap==="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function computeIsLoading(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return true;return false}function parseContextBusinessHours(e){return Y(e.options.businessHours,e)}function warnUnknownOptions(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}class ToolbarSection extends s{render(){let e=this.props.widgetGroups.map((e=>this.renderWidgetGroup(e)));return ge("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this;let{theme:n}=this.context;let r=[];let i=true;for(let s of e){let{buttonName:e,buttonClick:a,buttonText:o,buttonIcon:l,buttonHint:u}=s;if(e==="title"){i=false;r.push(ge("h2",{className:"fc-toolbar-title",id:t.titleId},t.title))}else{let i=e===t.activeButton;let s=!t.isTodayEnabled&&e==="today"||!t.isPrevEnabled&&e==="prev"||!t.isNextEnabled&&e==="next";let c=[`fc-${e}-button`,n.getClass("button")];i&&c.push(n.getClass("buttonActive"));r.push(ge("button",{type:"button",title:typeof u==="function"?u(t.navUnit):u,disabled:s,"aria-pressed":i,className:c.join(" "),onClick:a},o||(l?ge("span",{className:l,role:"img"}):"")))}}if(r.length>1){let e=i&&n.getClass("buttonGroup")||"";return ge("div",{className:e},...r)}return r[0]}}class Toolbar extends s{render(){let{model:e,extraClassName:t}=this.props;let n=false;let r;let i;let s=e.sectionWidgets;let a=s.center;if(s.left){n=true;r=s.left}else r=s.start;if(s.right){n=true;i=s.right}else i=s.end;let o=[t||"","fc-toolbar",n?"fc-toolbar-ltr":""];return ge("div",{className:o.join(" ")},this.renderSection("start",r||[]),this.renderSection("center",a||[]),this.renderSection("end",i||[]))}renderSection(e,t){let{props:n}=this;return ge(ToolbarSection,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class ViewHarness extends s{constructor(){super(...arguments);this.state={availableWidth:null};this.handleEl=e=>{this.el=e;X(this.props.elRef,e);this.updateAvailableWidth()};this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this;let{aspectRatio:n}=e;let r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"];let i="";let s="";n?t.availableWidth!==null?i=t.availableWidth/n:s=1/n*100+"%":i=e.height||"";return ge("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:i,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class EventClicking extends J{constructor(e){super(e);this.handleSegClick=(e,t)=>{let{component:n}=this;let{context:r}=n;let i=K(t);if(i&&n.isValidSegDownEl(e.target)){let s=Q(e.target,".fc-event-forced-url");let a=s?s.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new ee(n.context,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:r.viewApi});a&&!e.defaultPrevented&&(window.location.href=a)}};this.destroy=te(e.el,"click",".fc-event",this.handleSegClick)}}class EventHovering extends J{constructor(e){super(e);this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)};this.handleSegEnter=(e,t)=>{if(K(t)){this.currentSegEl=t;this.triggerEvent("eventMouseEnter",e,t)}};this.handleSegLeave=(e,t)=>{if(this.currentSegEl){this.currentSegEl=null;this.triggerEvent("eventMouseLeave",e,t)}};this.removeHoverListeners=ne(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this;let{context:i}=r;let s=K(n);t&&!r.isValidSegDownEl(t.target)||i.emitter.trigger(e,{el:n,event:new ee(i,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:i.viewApi})}}class CalendarContent extends re{constructor(){super(...arguments);this.buildViewContext=x(ie);this.buildViewPropTransformers=x(buildViewPropTransformers);this.buildToolbarProps=x(buildToolbarProps);this.headerRef=me();this.footerRef=me();this.interactionsStore={};this.state={viewLabelId:se()};this.registerInteractiveComponent=(e,t)=>{let n=ae(e,t);let r=[EventClicking,EventHovering];let i=r.concat(this.props.pluginHooks.componentInteractions);let s=i.map((e=>new e(n)));this.interactionsStore[e.uid]=s;oe[e.uid]=n};this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete oe[e.uid]};this.resizeRunner=new y((()=>{this.props.emitter.trigger("_resize",true);this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}));this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this;let{toolbarConfig:t,options:n}=e;let r=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,le(e.options.now,e.dateEnv),e.viewTitle);let i=false;let s="";let o;e.isHeightAuto||e.forPrint?s="":n.height!=null?i=true:n.contentHeight!=null?s=n.contentHeight:o=Math.max(n.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);let u=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return ge(a.Provider,{value:l},t.header&&ge(Toolbar,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:u},r)),ge(ViewHarness,{liquid:i,height:s,aspectRatio:o,labeledById:u},this.renderView(e),this.buildAppendContent()),t.footer&&ge(Toolbar,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map((t=>new t(e)));window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this;let{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize);this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this;let t=e.pluginHooks.viewContainerAppends.map((t=>t(e)));return ge(be,{},...t)}renderView(e){let{pluginHooks:t}=e;let{viewSpec:n}=e;let r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint};let i=this.buildViewPropTransformers(t.viewPropsTransformers);for(let t of i)Object.assign(r,t.transform(r,e));let s=n.component;return ge(s,Object.assign({},r))}}function buildToolbarProps(e,t,n,r,i,s){let a=n.build(i,void 0,false);let o=n.buildPrev(t,r,false);let l=n.buildNext(t,r,false);return{title:s,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:a.isValid&&!j(t.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function buildViewPropTransformers(e){return e.map((e=>new e))}class Calendar extends ue{constructor(e,t={}){super();this.isRendering=false;this.isRendered=false;this.currentClassNames=[];this.customContentRenderId=0;this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}};this.handleData=e=>{this.currentData=e;this.renderRunner.request(e.calendarOptions.rerenderDelay)};this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=true;let{currentData:e}=this;ce((()=>{we(ge(de,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},((t,n,r,i)=>{this.setClassNames(t);this.setHeight(n);return ge(pe.Provider,{value:this.customContentRenderId},ge(CalendarContent,Object.assign({isHeightAuto:r,forPrint:i},e)))})),this.el)}))}else if(this.isRendered){this.isRendered=false;we(null,this.el);this.setClassNames([]);this.setHeight("")}};fe(e);this.el=e;this.renderRunner=new y(this.handleRenderRequest);new CalendarDataManager({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=true;this.renderRunner.request();e&&this.updateSize()}destroy(){if(this.isRendering){this.isRendering=false;this.renderRunner.request()}}updateSize(){ce((()=>{super.updateSize()}))}batchRendering(e){this.renderRunner.pause("batchRendering");e();this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",true)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!n(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){he(this.el,"height",e)}}function formatDate(e,t={}){let n=buildDateEnv(t);let r=I(t);let i=n.createMarkerMeta(e);return i?n.format(i.marker,r,{forcedTzo:i.forcedTzo}):""}function formatRange(e,t,n){let r=buildDateEnv(typeof n==="object"&&n?n:{});let i=I(n);let s=r.createMarkerMeta(e);let a=r.createMarkerMeta(t);return s&&a?r.formatRange(s.marker,a.marker,i,{forcedStartTzo:s.forcedTzo,forcedEndTzo:a.forcedTzo,isEndExclusive:n.isEndExclusive,defaultSeparator:c.defaultRangeSeparator}):""}function buildDateEnv(e){let t=buildLocale(e.locale||"en",organizeRawLocales([]).map);return new Z(Object.assign(Object.assign({timeZone:c.timeZone,calendarSystem:"gregory"},e),{locale:t}))}function sliceEvents(e,t){return ve(e.eventStore,e.eventUiBases,e.dateProfile.activeRange,t?e.nextDayThreshold:null).fg}const Ne="6.1.15";export{Calendar,createPlugin,formatDate,formatRange,Ee as globalLocales,je as globalPlugins,sliceEvents,Ne as version};

